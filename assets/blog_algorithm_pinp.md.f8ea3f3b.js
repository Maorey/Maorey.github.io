import{e as s,w as a,f as n,o as t,c as l,a as e,t as p,d as i,r,b as c}from"./app.ea79c490.js";function o(s){s.clearRect(0,0,320,320)}function m(s,a){o(s),s.beginPath();let n=a[0];s.moveTo(n.x,n.y);for(let t=1,l=a.length;t<l;t++)n=a[t],s.lineTo(n.x,n.y);s.closePath(),s.strokeStyle="green",s.fillStyle="rgb(0,255,0,0.1)",s.stroke(),s.fill()}function u(s,a){s.fillStyle="red",s.fillRect(a.x-2,a.y-2,4,4)}var h={setup(){const t=s(),l=s(),e=s();let p,i,r;const c=[],h=s=>{const a={x:s.pageX-r.x,y:s.pageY-r.y};l.value?(m(i,c),u(i,a),e.value=function({x:s,y:a},n){let t=!1;for(let l=n.length,e=0;l--;e=l){const{x:p,y:i}=n[l],{x:r,y:c}=n[e];if(s===p&&a===i||s===r&&a===c)return!0;if(a>i&&a<=c||a<=i&&a>c){const n=p+(r-p)*(a-i)/(c-i);if(n===s)return!0;n<s&&(t=!t)}}return t}(a,c)):(c.push(a),c.length<2?u(i,a):m(i,c),e.value=null)},g=s=>{!l.value&&c.length&&m(i,c.concat({x:s.pageX-r.x,y:s.pageY-r.y}))},y=()=>{i&&o(i),l.value=!1,e.value=null,c.splice(0)},d=()=>{l.value?y():c.length>2&&(m(i,c),l.value=!0)},k=s=>{d(),s.stopPropagation(),s.preventDefault()},v=()=>{p.removeEventListener("click",h),p.removeEventListener("mousemove",g),p.removeEventListener("contextmenu",k)};return a((()=>{p&&v(),t.value&&(p=t.value,i=p.getContext("2d"),r=p.getBoundingClientRect(),p.addEventListener("click",h),p.addEventListener("mousemove",g),p.addEventListener("contextmenu",k))})),n(v),{el:t,isPoint:l,result:e,toggle:d,clear:y}}};var g={wrap:"_wrap_1knr1_1"};const y={ref:"el",width:"320",height:"320"},d=i(" 计算结果: ");(h.__cssModules={}).$style=g,h.render=function(s,a,n,i,r,c){return t(),l("div",{class:s.$style.wrap},[e("i",{onClick:a[1]||(a[1]=(...s)=>i.toggle&&i.toggle(...s))},p(i.isPoint?"请指定点":"正在画多边形")+"(点我/右键结束)",1),e("i",{onClick:a[2]||(a[2]=(...s)=>i.clear&&i.clear(...s))},"重置(不能操作点我)"),e("canvas",y,null,512),e("p",null,[d,e("b",{style:"color: "+(i.result?"green":!1===i.result?"red":"")},p(i.result?"点在面内(或边上)":!1===i.result?"点在面外":"--"),5)])],2)};function k(s){s.clearRect(0,0,320,320)}function v(s,a){k(s),s.beginPath();let n=a[0];s.moveTo(n.x,n.y);for(let t=1,l=a.length;t<l;t++)n=a[t],s.lineTo(n.x,n.y);s.closePath(),s.strokeStyle="green",s.fillStyle="rgb(0,255,0,0.1)",s.stroke(),s.fill()}function b(s,a){s.fillStyle="red",s.fillRect(a.x-2,a.y-2,4,4)}function x(s){for(let a=s.length,n=0,t=1,l=null;a--;t=n,n=a){const e=s[a],p=s[n],i=s[t],r=(p.x-e.x)*(i.y-e.y)-(p.y-e.y)*(i.x-e.x)>=0;if(null===l)l=r;else if(r!==l)return!1}return!0}var f={setup(){const t=s(),l=s(),e=s(),p=s(0);let i,r,c,o;const m=[],u=s=>{v(r,m),b(r,o),p.value=function(s,a,n,t){const{x:l,y:e}=a,p=(n.y-e)/(n.x-l),i=e-p*l;let r=n.y>e?320:0,c=(r-i)/p;n.x>l?c>320&&(c=320,r=p*c+i):c<0&&(c=0,r=i),s.beginPath(),s.moveTo(l,e),s.lineTo(c,r),s.closePath(),s.strokeStyle="green",s.stroke();let o=0;for(let m=t.length,u=0;m--;u=m){const{x:a,y:n}=t[m],{x:h,y:g}=t[u],y=(g-n)/(h-a),d=(n-y*a-i)/(p-y),k=p*d+i;(d>a&&d<h||d>h&&d<a)&&(k>n&&k<g||k>g&&k<n)&&(d>l&&d<c||d>c&&d<l)&&(k>e&&k<r||k>r&&k<e)&&(b(s,{x:d,y:k}),o++)}return o}(r,o,s,m)},h=s=>{const a={x:s.pageX-c.x,y:s.pageY-c.y};if(l.value)o||(o=a),u(a);else{m.push(a);const s=m.length;s<2?b(r,a):(v(r,m),s>2&&!1!==e.value&&(e.value=x(m)))}},g=s=>{if(l.value)o&&u({x:s.pageX-c.x,y:s.pageY-c.y});else{const a=m.length;if(a){const n=m.concat({x:s.pageX-c.x,y:s.pageY-c.y});v(r,n),a>1&&(e.value=x(n))}}},y=()=>{r&&k(r),l.value=!1,e.value=null,p.value=0,o=void 0,m.splice(0)},d=()=>{l.value?o?(v(r,m),o=void 0):y():m.length>2&&(v(r,m),l.value=!0)},f=s=>{d(),s.stopPropagation(),s.preventDefault()},z=()=>{i.removeEventListener("click",h),i.removeEventListener("mousemove",g),i.removeEventListener("contextmenu",f)};return a((()=>{i&&z(),t.value&&(i=t.value,r=i.getContext("2d"),c=i.getBoundingClientRect(),i.addEventListener("click",h),i.addEventListener("mousemove",g),i.addEventListener("contextmenu",f))})),n(z),{el:t,isRay:l,result:e,cross:p,toggle:d,clear:y}}};var z={wrap:"_wrap_1knr1_1"};const w=e("br",null,null,-1),_={ref:"el",width:"320",height:"320"},E=i(" 计算结果: 你画的是 "),T=i(" ; 射线与多边形相交 "),P=i(" 次 ");(f.__cssModules={}).$style=z,f.render=function(s,a,n,i,r,c){return t(),l("div",{class:s.$style.wrap},[w,e("i",{onClick:a[1]||(a[1]=(...s)=>i.toggle&&i.toggle(...s))},p(i.isRay?"正在画射线":"正在画多边形")+"(点我/右键结束)",1),e("i",{onClick:a[2]||(a[2]=(...s)=>i.clear&&i.clear(...s))},"重置(不能操作点我)"),e("canvas",_,null,512),e("p",null,[E,e("b",{style:"color: "+(i.result?"green":!1===i.result?"red":"")},p(i.result?"凸多边形":!1===i.result?"凹多边形":"--"),5),T,e("b",{style:"color: "+(i.cross%2?"green":"red")},p(i.cross),5),P])],2)};var S={components:{Ray:h,Polygon:f}};const A='{"title":"点是否在多边形内","description":"","frontmatter":{"title":"点是否在多边形内","index":1},"headers":[{"level":2,"title":"问题描述","slug":"问题描述"},{"level":2,"title":"演示","slug":"演示"},{"level":2,"title":"前置知识","slug":"前置知识"},{"level":3,"title":"凸多边形","slug":"凸多边形"},{"level":3,"title":"凹多边形","slug":"凹多边形"},{"level":3,"title":"多边形演示","slug":"多边形演示"},{"level":2,"title":"方法介绍","slug":"方法介绍"},{"level":3,"title":"面积和","slug":"面积和"},{"level":3,"title":"夹角和","slug":"夹角和"},{"level":3,"title":"卷绕数","slug":"卷绕数"},{"level":3,"title":"射线法","slug":"射线法"},{"level":3,"title":"算法实现","slug":"算法实现"},{"level":2,"title":"升维","slug":"升维"}],"relativePath":"blog/algorithm/pinp.md","lastUpdated":1622396110599}',C=c('<h2 id="问题描述"><a class="header-anchor" href="#问题描述" aria-hidden="true">#</a> 问题描述</h2><div class="warning custom-block"><p class="custom-block-title">求点是否在多边形内</p><p>平面上有一个任意多边形, 指定任意平面点, 求该点是否在该多边形内</p></div><h2 id="演示"><a class="header-anchor" href="#演示" aria-hidden="true">#</a> 演示</h2>',3),B=c('<h2 id="前置知识"><a class="header-anchor" href="#前置知识" aria-hidden="true">#</a> 前置知识</h2><p>合法的多边形只有两种: 凸多边形和凹多边形, 其定义如下:</p><h3 id="凸多边形"><a class="header-anchor" href="#凸多边形" aria-hidden="true">#</a> 凸多边形</h3><p>有三种定义, 如下:</p><ul><li><p>没有任何一个内角是优角(Reflexive Angle, 亦称凹角, 指大于平角(180°)而小于周角(360°)的角. 直角、锐角和钝角统称劣角)的多边形</p></li><li><p>如果把一个多边形的所有边中, 有一条边向两方无限延长成为一直线时, 其他各边都在此直线的同旁, 那么这个多边形就叫做凸多边形</p></li><li><p>凸多边形是一个内部为<a href="https://baike.baidu.com/item/%E5%87%B8%E9%9B%86" target="_blank" rel="noopener noreferrer">凸集</a>的简单多边形</p><p>简单多边形的下列性质与其凸性等价:</p><ol><li>所有内角小于等于180度</li><li>任意两个顶点间的线段位于多边形的内部或边上</li><li>多边形内任意两个点, 其连线全部在多边形内部或边上</li></ol></li></ul><p>延伸: <strong>凸多边形与任意直线最多相交两次</strong></p><p><em>(相交次数不含边及顶点, 这种情况视需要可以算在多边形内也可以不算)</em></p><h3 id="凹多边形"><a class="header-anchor" href="#凹多边形" aria-hidden="true">#</a> 凹多边形</h3><p>有三种定义, 与凸多边形相对, 不再赘述, <strong>凹多边形总是可以分解为若干个凸多边形</strong></p><p>延伸: <strong>凹多边形与任意直线最多相交次数大于两次</strong></p><h3 id="多边形演示"><a class="header-anchor" href="#多边形演示" aria-hidden="true">#</a> 多边形演示</h3>',11),L=c('<p>这里使用<a href="https://en.wikipedia.org/wiki/Graham_scan" target="_blank" rel="noopener noreferrer">扫描线</a>法来判断多边形的凹凸, 即:</p><p>若多边形的边始终朝一个方向旋转则是<strong>凸多边形</strong>, 代码如下:</p><div class="language-ts line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">isConvex</span><span class="token punctuation">(</span>polygon<span class="token operator">:</span> Point<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> polygon<span class="token punctuation">.</span>length<span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> lastTurn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">;</span> k <span class="token operator">=</span> j<span class="token punctuation">,</span> j <span class="token operator">=</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> p1 <span class="token operator">=</span> polygon<span class="token punctuation">[</span>i<span class="token punctuation">]</span>\n    <span class="token keyword">const</span> p2 <span class="token operator">=</span> polygon<span class="token punctuation">[</span>j<span class="token punctuation">]</span>\n    <span class="token keyword">const</span> p3 <span class="token operator">=</span> polygon<span class="token punctuation">[</span>k<span class="token punctuation">]</span>\n    <span class="token keyword">const</span> turn <span class="token operator">=</span> <span class="token punctuation">(</span>p2<span class="token punctuation">.</span>x <span class="token operator">-</span> p1<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>p3<span class="token punctuation">.</span>y <span class="token operator">-</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span>p2<span class="token punctuation">.</span>y <span class="token operator">-</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>p3<span class="token punctuation">.</span>x <span class="token operator">-</span> p1<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>lastTurn <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      lastTurn <span class="token operator">=</span> turn\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>turn <span class="token operator">!==</span> lastTurn<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token boolean">false</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token boolean">true</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><em>凹多边形分解为凸多边形就下次吧, 诶嘿嘿</em> <code>(*^▽^*)~</code></p><h2 id="方法介绍"><a class="header-anchor" href="#方法介绍" aria-hidden="true">#</a> 方法介绍</h2><h3 id="面积和"><a class="header-anchor" href="#面积和" aria-hidden="true">#</a> 面积和</h3><p>若点在凸多边形内, 则点与凸多边形每条边组成的三角形面积和等于该凸多边形的面积</p><div style="display:flex;justify-content:space-around;"><p><img alt="areaIn" data-src="pinp/areaIn.png" loading="lazy" class="lazy"></p><p><img alt="areaOut" data-src="pinp/areaOut.png" loading="lazy" class="lazy"></p></div><p>对于凹多边形, 需要先分解为若干个凸多边形, 若点在任意凸多边形内, 则点在该凹多边形内</p><h3 id="夹角和"><a class="header-anchor" href="#夹角和" aria-hidden="true">#</a> 夹角和</h3><p>若点在凸多边形内, 则点与凸多边形每个顶点及其所在边组成的夹角和等于该凸多边形的内角和</p><div style="display:flex;justify-content:space-around;"><p><img alt="angleIn" data-src="pinp/angleIn.png" loading="lazy" class="lazy"></p><p><img alt="angleOut" data-src="pinp/angleOut.png" loading="lazy" class="lazy"></p></div><p>对于凹多边形, 需要先分解为若干个凸多边形, 若点在任意凸多边形内, 则点在该凹多边形内</p><p>优化: 若点在凸多边形内, 则点与凸多边形每个顶点及其所在边组成的夹角均为劣角</p><h3 id="卷绕数"><a class="header-anchor" href="#卷绕数" aria-hidden="true">#</a> 卷绕数</h3><p><img alt="卷绕数" data-src="pinp/winding.gif" loading="lazy" class="lazy"></p><p><em><a href="https://www.knowpia.cn/pages/%E5%8D%B7%E7%BB%95%E6%95%B0" target="_blank" rel="noopener noreferrer">图片来源</a></em></p><p>卷绕数定义可参考知乎: <a href="https://zhuanlan.zhihu.com/p/148342710" target="_blank" rel="noopener noreferrer">卷绕数和高斯-博内定理</a></p><p><strong>当卷绕数为0时, 点在闭合曲线外部</strong></p><h3 id="射线法"><a class="header-anchor" href="#射线法" aria-hidden="true">#</a> 射线法</h3><p>若射线与多边形相交次数为奇数次, 则该射线的端点在该多边形内</p><p>简要证明如下:</p><p>我们可以先把任意多边形分解成若干个凸多边形, 将问题转换为射线穿过凸多边形时相交的次数, 根据凸多边形的定义, 这条射线<strong>最多与之相交两次</strong></p><div style="text-align:center;"><p><img alt="ray" data-src="pinp/ray.png" loading="lazy" class="lazy"></p></div><p>如上图将一个凹多边形分解为从上到下ABC三个凸多边形, 绿/蓝/黄三条射线穿过它们, 下表列出了射线相交情况</p><table><thead><tr><th style="text-align:center;">凸多边形/射线</th><th style="text-align:center;">绿</th><th style="text-align:center;">蓝</th><th style="text-align:center;">黄</th></tr></thead><tbody><tr><td style="text-align:center;">A</td><td style="text-align:center;">有效1次(相交2次)</td><td style="text-align:center;">有效1次(相交2次)</td><td style="text-align:center;">相交2次</td></tr><tr><td style="text-align:center;">B</td><td style="text-align:center;">+ 有效1次(相交2次)</td><td style="text-align:center;">+ 有效0次(相交2次, 其中1次在端点)</td><td style="text-align:center;">+相交2次</td></tr><tr><td style="text-align:center;">C</td><td style="text-align:center;">+ 有效2次</td><td style="text-align:center;">+ 有效1次(相交2次, 其中1次在端点)</td><td style="text-align:center;">+相交2次</td></tr><tr><td style="text-align:center;">有效相交次数</td><td style="text-align:center;">4</td><td style="text-align:center;">2</td><td style="text-align:center;">6</td></tr></tbody></table><p><em>(无效相交次数为与不同凸多边形的公共边相交的情况)</em></p><p>所以, 若射线的端点在整个多边形外, 那么穿过第一个凸多边形时, 要么相交2次要么相交0次, 穿过接下来的凸多边形时, 相交次数要么+2, 要么+0, 所以总是偶数; 若射线端点在整个多边形内, 则显然比在外时的最大相交次数少一次, 因此<strong>总是奇数</strong></p><p>你可以在<a href="#%E5%A4%9A%E8%BE%B9%E5%BD%A2%E6%BC%94%E7%A4%BA">多边形演示</a>这一节亲手试试</p><h3 id="算法实现"><a class="header-anchor" href="#算法实现" aria-hidden="true">#</a> 算法实现</h3><p>基于以上理论和计算的方便, 从目标点P水平向左发射一条射线, 计算其与多边形相交次数</p><div style="text-align:center;"><p><img alt="triangle" data-src="pinp/triangle.png" loading="lazy" class="lazy"></p></div><p>如图, PA射线与边SE相交于A, 若A点在P点左侧则记为一次相交</p>',33),M=e("p",null,[i("问题转化为: 已知P、S、E点坐标分别为 "),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mi",null,"P"),e("mrow",null,[e("mo",{fence:"true"},"("),e("msub",null,[e("mi",null,"x"),e("mi",null,"p")]),e("mo",{separator:"true"},","),e("msub",null,[e("mi",null,"y"),e("mi",null,"p")]),e("mo",{fence:"true"},")")])]),e("annotation",{encoding:"application/x-tex"},"P\\left(x_p,y_p\\right)")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1.036108em","vertical-align":"-0.286108em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),e("span",{class:"mspace",style:{"margin-right":"0.16666666666666666em"}}),e("span",{class:"minner"},[e("span",{class:"mopen delimcenter",style:{top:"0em"}},"("),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15139200000000003em"}},[e("span",{style:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"p")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.286108em"}},[e("span")])])])])]),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.16666666666666666em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15139200000000003em"}},[e("span",{style:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"p")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.286108em"}},[e("span")])])])])]),e("span",{class:"mclose delimcenter",style:{top:"0em"}},")")])])])]),i("、"),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mi",null,"S"),e("mrow",null,[e("mo",{fence:"true"},"("),e("msub",null,[e("mi",null,"x"),e("mi",null,"s")]),e("mo",{separator:"true"},","),e("msub",null,[e("mi",null,"y"),e("mi",null,"s")]),e("mo",{fence:"true"},")")])]),e("annotation",{encoding:"application/x-tex"},"S\\left(x_s,y_s\\right)")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),e("span",{class:"mspace",style:{"margin-right":"0.16666666666666666em"}}),e("span",{class:"minner"},[e("span",{class:"mopen delimcenter",style:{top:"0em"}},"("),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.151392em"}},[e("span",{style:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.16666666666666666em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.151392em"}},[e("span",{style:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mclose delimcenter",style:{top:"0em"}},")")])])])]),i("、"),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mi",null,"E"),e("mrow",null,[e("mo",{fence:"true"},"("),e("msub",null,[e("mi",null,"x"),e("mi",null,"e")]),e("mo",{separator:"true"},","),e("msub",null,[e("mi",null,"y"),e("mi",null,"e")]),e("mo",{fence:"true"},")")])]),e("annotation",{encoding:"application/x-tex"},"E\\left(x_e,y_e\\right)")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E"),e("span",{class:"mspace",style:{"margin-right":"0.16666666666666666em"}}),e("span",{class:"minner"},[e("span",{class:"mopen delimcenter",style:{top:"0em"}},"("),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.151392em"}},[e("span",{style:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"e")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mpunct"},","),e("span",{class:"mspace",style:{"margin-right":"0.16666666666666666em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.151392em"}},[e("span",{style:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"e")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mclose delimcenter",style:{top:"0em"}},")")])])])]),i(", 求A点x坐标是否小于"),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("msub",null,[e("mi",null,"x"),e("mi",null,"p")])]),e("annotation",{encoding:"application/x-tex"},"x_p")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.716668em","vertical-align":"-0.286108em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15139200000000003em"}},[e("span",{style:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"p")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.286108em"}},[e("span")])])])])])])])]),i(":")],-1),Y=e("p",null,[e("span",{class:"katex-display"},[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[e("semantics",null,[e("mtable",{rowspacing:"0.1600em",columnalign:"left",columnspacing:"1em"},[e("mtr",null,[e("mtd",null,[e("mstyle",{scriptlevel:"0",displaystyle:"false"},[e("mrow",null,[e("mo",null,"∵"),e("mi",null,"tan"),e("mo",null,"⁡"),e("mrow",null,[e("mo",{fence:"true"},"("),e("mi",{mathvariant:"normal"},"∠"),e("mi",null,"E"),e("mi",null,"S"),e("mi",null,"C"),e("mo",{fence:"true"},")")]),e("mo",null,"="),e("mi",null,"tan"),e("mo",null,"⁡"),e("mrow",null,[e("mo",{fence:"true"},"("),e("mi",{mathvariant:"normal"},"∠"),e("mi",null,"A"),e("mi",null,"S"),e("mi",null,"B"),e("mo",{fence:"true"},")")])])])])]),e("mtr",null,[e("mtd",null,[e("mstyle",{scriptlevel:"0",displaystyle:"false"},[e("mrow",null,[e("mo",null,"∴"),e("mfrac",null,[e("mrow",null,[e("msub",null,[e("mi",null,"y"),e("mi",null,"e")]),e("mo",null,"−"),e("msub",null,[e("mi",null,"y"),e("mi",null,"s")])]),e("mrow",null,[e("msub",null,[e("mi",null,"x"),e("mi",null,"e")]),e("mo",null,"−"),e("msub",null,[e("mi",null,"x"),e("mi",null,"s")])])]),e("mo",null,"="),e("mfrac",null,[e("mrow",null,[e("msub",null,[e("mi",null,"y"),e("mi",null,"p")]),e("mo",null,"−"),e("msub",null,[e("mi",null,"y"),e("mi",null,"s")])]),e("mrow",null,[e("mi",null,"x"),e("mo",null,"−"),e("msub",null,[e("mi",null,"x"),e("mi",null,"s")])])])])])])]),e("mtr",null,[e("mtd",null,[e("mstyle",{scriptlevel:"0",displaystyle:"false"},[e("mrow",null,[e("mo",null,"∴"),e("mi",null,"x"),e("mo",null,"="),e("msub",null,[e("mi",null,"x"),e("mi",null,"s")]),e("mo",null,"+"),e("mfrac",null,[e("mrow",null,[e("mrow",null,[e("mo",{fence:"true"},"("),e("msub",null,[e("mi",null,"x"),e("mi",null,"e")]),e("mo",null,"−"),e("msub",null,[e("mi",null,"x"),e("mi",null,"s")]),e("mo",{fence:"true"},")")]),e("mo",null,"×"),e("mrow",null,[e("mo",{fence:"true"},"("),e("msub",null,[e("mi",null,"y"),e("mi",null,"p")]),e("mo",null,"−"),e("msub",null,[e("mi",null,"y"),e("mi",null,"s")]),e("mo",{fence:"true"},")")])]),e("mrow",null,[e("msub",null,[e("mi",null,"y"),e("mi",null,"e")]),e("mo",null,"−"),e("msub",null,[e("mi",null,"y"),e("mi",null,"s")])])])])])])])]),e("annotation",{encoding:"application/x-tex"},"\\begin{array}{l} \\because \\tan\\left(\\angle ESC\\right)=\\tan\\left(\\angle ASB\\right) \\\\ \\therefore \\frac{y_e-y_s}{x_e-x_s}=\\frac{y_p-y_s}{x-x_s} \\\\ \\therefore x=x_s+\\frac{\\left(x_e-x_s\\right)\\times\\left(y_p-y_s\\right)}{y_e-y_s} \\end{array} ")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"4.074179em","vertical-align":"-1.7870895em"}}),e("span",{class:"mord"},[e("span",{class:"mtable"},[e("span",{class:"arraycolsep",style:{width:"0.5em"}}),e("span",{class:"col-align-l"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"2.2870895em"}},[e("span",{style:{top:"-4.4794095em"}},[e("span",{class:"pstrut",style:{height:"3.03232em"}}),e("span",{class:"mord"},[e("span",{class:"mrel amsrm"},"∵"),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mop"},"tan"),e("span",{class:"mspace",style:{"margin-right":"0.16666666666666666em"}}),e("span",{class:"minner"},[e("span",{class:"mopen delimcenter",style:{top:"0em"}},"("),e("span",{class:"mord"},"∠"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.07153em"}},"ESC"),e("span",{class:"mclose delimcenter",style:{top:"0em"}},")")]),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mop"},"tan"),e("span",{class:"mspace",style:{"margin-right":"0.16666666666666666em"}}),e("span",{class:"minner"},[e("span",{class:"mopen delimcenter",style:{top:"0em"}},"("),e("span",{class:"mord"},"∠"),e("span",{class:"mord mathnormal"},"A"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"SB"),e("span",{class:"mclose delimcenter",style:{top:"0em"}},")")])])]),e("span",{style:{top:"-3.2037584999999997em"}},[e("span",{class:"pstrut",style:{height:"3.03232em"}}),e("span",{class:"mord"},[e("span",{class:"mrel amsrm"},"∴"),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mord"},[e("span",{class:"mopen nulldelimiter"}),e("span",{class:"mfrac"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.854439em"}},[e("span",{style:{top:"-2.655em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"e")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])]),e("span",{class:"mbin mtight"},"−"),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])])])])]),e("span",{style:{top:"-3.23em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),e("span",{style:{top:"-3.446108em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"e")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])]),e("span",{class:"mbin mtight"},"−"),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])])])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.44509999999999994em"}},[e("span")])])])]),e("span",{class:"mclose nulldelimiter"})]),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mord"},[e("span",{class:"mopen nulldelimiter"}),e("span",{class:"mfrac"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.915651em"}},[e("span",{style:{top:"-2.655em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"x"),e("span",{class:"mbin mtight"},"−"),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])])])])]),e("span",{style:{top:"-3.23em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),e("span",{style:{top:"-3.50732em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285716em"}},[e("span",{style:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"p")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.2818857142857143em"}},[e("span")])])])])]),e("span",{class:"mbin mtight"},"−"),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])])])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.44509999999999994em"}},[e("span")])])])]),e("span",{class:"mclose nulldelimiter"})])])]),e("span",{style:{top:"-1.7263384999999998em"}},[e("span",{class:"pstrut",style:{height:"3.03232em"}}),e("span",{class:"mord"},[e("span",{class:"mrel amsrm"},"∴"),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mord mathnormal"},"x"),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2777777777777778em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.151392em"}},[e("span",{style:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2222222222222222em"}}),e("span",{class:"mbin"},"+"),e("span",{class:"mspace",style:{"margin-right":"0.2222222222222222em"}}),e("span",{class:"mord"},[e("span",{class:"mopen nulldelimiter"}),e("span",{class:"mfrac"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"1.03232em"}},[e("span",{style:{top:"-2.6550000000000002em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"e")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])]),e("span",{class:"mbin mtight"},"−"),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])])])])]),e("span",{style:{top:"-3.23em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),e("span",{style:{top:"-3.50732em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"minner mtight"},[e("span",{class:"mopen mtight delimcenter",style:{top:"0em"}},[e("span",{class:"mtight"},"(")]),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"e")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])]),e("span",{class:"mbin mtight"},"−"),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight"},"x"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])]),e("span",{class:"mclose mtight delimcenter",style:{top:"0em"}},[e("span",{class:"mtight"},")")])]),e("span",{class:"mbin mtight"},"×"),e("span",{class:"minner mtight"},[e("span",{class:"mopen mtight delimcenter",style:{top:"0em"}},[e("span",{class:"mtight"},"(")]),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285716em"}},[e("span",{style:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"p")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.2818857142857143em"}},[e("span")])])])])]),e("span",{class:"mbin mtight"},"−"),e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"y"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.16454285714285719em"}},[e("span",{style:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[e("span",{class:"pstrut",style:{height:"2.5em"}}),e("span",{class:"sizing reset-size3 size1 mtight"},[e("span",{class:"mord mathnormal mtight"},"s")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.143em"}},[e("span")])])])])]),e("span",{class:"mclose mtight delimcenter",style:{top:"0em"}},[e("span",{class:"mtight"},")")])])])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.481108em"}},[e("span")])])])]),e("span",{class:"mclose nulldelimiter"})])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"1.7870895em"}},[e("span")])])])]),e("span",{class:"arraycolsep",style:{width:"0.5em"}})])])])])])])],-1),R=c('<div class="language-ts line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">pinp</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> px<span class="token punctuation">,</span> y<span class="token operator">:</span> py <span class="token punctuation">}</span><span class="token operator">:</span> Point<span class="token punctuation">,</span> polygon<span class="token operator">:</span> Point<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> odd <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// py射线与多边形的所有边的相交次数是否为奇数</span>\n\n  <span class="token comment">// polygon[i]-polygon[j] 为多边形的一条边</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> polygon<span class="token punctuation">.</span>length<span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">;</span> j <span class="token operator">=</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> startX<span class="token punctuation">,</span> y<span class="token operator">:</span> startY <span class="token punctuation">}</span> <span class="token operator">=</span> polygon<span class="token punctuation">[</span>i<span class="token punctuation">]</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> endX<span class="token punctuation">,</span> y<span class="token operator">:</span> endY <span class="token punctuation">}</span> <span class="token operator">=</span> polygon<span class="token punctuation">[</span>j<span class="token punctuation">]</span>\n\n    <span class="token comment">// 点与边的端点重合</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>px <span class="token operator">===</span> startX <span class="token operator">&amp;&amp;</span> py <span class="token operator">===</span> startY<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>px <span class="token operator">===</span> endX <span class="token operator">&amp;&amp;</span> py <span class="token operator">===</span> endY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token boolean">true</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// 点在边的范围内</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>py <span class="token operator">&gt;</span> startY <span class="token operator">&amp;&amp;</span> py <span class="token operator">&lt;=</span> endY<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>py <span class="token operator">&lt;=</span> startY <span class="token operator">&amp;&amp;</span> py <span class="token operator">&gt;</span> endY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// 边与py射线交点的X坐标</span>\n      <span class="token keyword">const</span> x <span class="token operator">=</span> startX <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>endX <span class="token operator">-</span> startX<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>py <span class="token operator">-</span> startY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>endY <span class="token operator">-</span> startY<span class="token punctuation">)</span>\n\n      <span class="token comment">// 点在边上</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">===</span> px<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token boolean">true</span>\n      <span class="token punctuation">}</span>\n\n      <span class="token comment">// 射线与边相交</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> px<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        odd <span class="token operator">=</span> <span class="token operator">!</span>odd\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> odd\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="升维"><a class="header-anchor" href="#升维" aria-hidden="true">#</a> 升维</h2><p>3D中的情况如何?</p>',3);S.render=function(s,a,n,p,i,c){const o=r("Ray"),m=r("Polygon");return t(),l("div",null,[C,e(o),B,e(m),L,M,Y,R])};export default S;export{A as __pageData};
